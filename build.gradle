allprojects {
    apply plugin: 'idea'

    group = 'com.restfriedchicken.ots'
    version = '1.0'

//    idea {
//        project {
//            languageLevel = '1.8'
//        }
//    }
}

subprojects {


    apply plugin: 'java'

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    repositories {
        mavenLocal()
        mavenCentral()
    }

    configurations {
        provided
    }

    sourceSets {
        main { compileClasspath += configurations.provided }
    }


    task testJar(type: Jar) {
        classifier = 'tests'
        from sourceSets.test.output
    }

    test.dependsOn testJar

    test {
        exclude '**/*AcceptanceTest*'

        testLogging {
            events "passed", "skipped", "failed", "standardOut", "standardError"
        }
    }

    artifacts {
        archives testJar
    }

}

task wrapper(type: Wrapper) {
    gradleVersion = '2.2.1'
}